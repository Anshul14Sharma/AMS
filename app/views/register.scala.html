@()
@main("Register"){
<div class="container">
    <center>
        <h2>Register</h2>
    </center>
    <center>
        <form id="registerForm">
            Email: <input id="email" name="email" type="email" placeholder="name@@email.com" required/> <br/>
            Password: <input id="pwd" name="password" type="password" required/> <br/>
            FirstName: <input id="fName" name="firstName" type="text" required/> <br/>
            LastName: <input id="lName" name="lastName" type="text" required/><br>
            <button class="button" type="button" onclick="register()">Submit</button>
        </form>
    </center>
</div>
<script>
    function validateEmail(sEmail) {
    var filter = /^([a-zA-Z0-9_.+-])+\@@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    if (filter.test(sEmail)) {
    return true;
    }
    else {
    return false;
    }
    }
    function register(){
    var email = $('#email').val();
    var password = $('#pwd').val();
    var firstName = $('#fName').val();
    var lastName = $('#lName').val()
    if(email == ''){
        window.alert("Email cannot be empty!");
        return false;
    }
    if(!validateEmail(email)){
        window.alert("Invalid Email!");
        return false;
    }
    if(password == ''){
        window.alert("Password cannot be empty!");
        return false;
    }
    if(firstName == ''){
        window.alert("FirstName cannot be empty!");
        return false;
    }
    if(lastName == ''){
        window.alert("LastName cannot be empty!");
        return false;
    }
    var obj = {
    email: email,
    password: password,
    firstName: firstName,
    lastName: lastName
    };
    $.ajax({
    url: "@routes.LoginController.register",
    data: JSON.stringify(obj),
    headers: {
    'Content-Type': 'application/json'
    },
    type: 'POST',
    success: function(res) {
    if (res == "200") {
    window.alert("Registration Successful!");
    window.location.replace("/login");
    } else if(res == "409"){
    window.alert("Employee Already Exists");
    } else{
    window.alert("Server error!");
    }
    }
    });
    return false;
    }


</script>
}